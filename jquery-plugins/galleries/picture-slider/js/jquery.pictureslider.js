/** * jQuery Picture Slider plugin * @author: Nicolas * create date: 2010-05-19 * @requires jQuery v1.4+ */(function($){	$.fn.picSlider = function(o){		o = $.extend({			btnPrev: null,			btnNext: null,			// 图片自动切换的速度，设置auto参数后生效			speed: 3000,			auto: false,			// 在可见区域显示的缩略图数			visible: 4,			// 是否显示大图标题			title: true,			// 是否显示缩略图的序号			seq: true		}, o);				return this.each(function(){			var div = $(this), items = $(".items", div), large = $(".large", div), title = $(".title", large);			var li = $("li", items), a = $("a", items), img = $("img", items), count = li.size();			var curr = 0;						// 第一张缩略图默认为选中状态			a.eq(0).addClass("selected");						if (o.title) {				title.text(img.eq(curr).attr("alt")).show();			}			else {				title.hide();			}			if (o.seq) {				a.append(function(i, html){					return '<span class="seq">' + (i + 1) + '</span>'				});			}			li.bind("click mouseenter", function(){				curr = $(this).index();				go(curr);			});			if (o.btnPrev) {				$(o.btnPrev, div).click(function(){					go(curr - 1);				});			}			if (o.btnNext) {				$(o.btnNext, div).click(function(){					go(curr + 1);				});			}			if (o.auto) {				var process;				var start = function(){					process = setInterval(function(){						go(curr + 1);					}, o.speed);				};				start();				large.hover(function(){					clearInterval(process);				}, function(){					start();				});			}						function go(to){				if (to >= o.visible) {					if (to >= count) {						li.show().slice(o.visible).hide();						to = 0;					}					else {						li.eq(to - o.visible).hide();					}				}				else 					if (to < 0) {						li.slice(0, count - o.visible).hide();						to = count - 1;					}				li.eq(to).show();				curr = to;								a.removeClass("selected").eq(to).addClass("selected");				large.attr("href", a.eq(to).attr("href")).find("img").attr({					src: img.eq(to).attr("src"),					alt: img.eq(to).attr("alt")				});				if (o.title) {					title.text(img.eq(to).attr("alt"));				}								return false;			}		});	};})(jQuery);